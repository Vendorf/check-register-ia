(this["webpackJsonpreact-test"]=this["webpackJsonpreact-test"]||[]).push([[0],{185:function(e,t,a){e.exports=a(385)},190:function(e,t,a){},191:function(e,t,a){},252:function(e,t,a){},254:function(e,t,a){"use strict";var n=a(255),s=a(284);e.exports.register=function(e){var t=n("http://localhost:8080/socket"),a=s.over(t);a.connect({},(function(t){e.forEach((function(e){a.subscribe(e.route,e.callback)}))}))}},291:function(e,t,a){},292:function(e,t,a){},385:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(12),i=a.n(r),o=(a(190),a(191),a(22)),c=a(25),l=a(26),u=a(9),p=a(27),d=a(28),h=a(89),m=a.n(h),f=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={transactionNameInput:n.getSafe((function(){return n.props.check.transactionName}),""),memoInput:n.getSafe((function(){return n.props.check.memo}),""),paymentInput:n.getSafe((function(){return n.props.check.payment.value}),""),depositInput:n.getSafe((function(){return n.props.check.deposit.value}),""),dateInput:n.toDate(n.getSafe((function(){return n.props.check.date}),null)),paymentFocus:!1,depositFocus:!1},n.handleEdit.bind(Object(u.a)(n)),n.transactionInputChanged.bind(Object(u.a)(n)),n.memoInputChanged.bind(Object(u.a)(n)),n.paymentInputChanged.bind(Object(u.a)(n)),n.depositInputChanged.bind(Object(u.a)(n)),n.dateInputChanged.bind(Object(u.a)(n)),n.handleDelete.bind(Object(u.a)(n)),n.paymentInputFocused.bind(Object(u.a)(n)),n.paymentInputBlurred.bind(Object(u.a)(n)),n.depositInputFocused.bind(Object(u.a)(n)),n.depositInputBlurred.bind(Object(u.a)(n)),n.toDate.bind(Object(u.a)(n)),n.isValidDate.bind(Object(u.a)(n)),n.transactionInputRef=s.a.createRef(),n.memoInputRef=s.a.createRef(),n.paymentInputRef=s.a.createRef(),n.depositInputRef=s.a.createRef(),n.datePickerRef=s.a.createRef(),n}return Object(l.a)(a,[{key:"isValidDate",value:function(e){return e instanceof Date&&!isNaN(e)}},{key:"toDate",value:function(e){if(null!=e){var t=new Date(1e3*e);return this.isValidDate(t)?t:null}return null}},{key:"resetState",value:function(){var e=this;this.setState({transactionNameInput:this.getSafe((function(){return e.props.check.transactionName}),""),memoInput:this.getSafe((function(){return e.props.check.memo}),""),paymentInput:this.getSafe((function(){return e.props.check.payment.value}),""),depositInput:this.getSafe((function(){return e.props.check.deposit.value}),""),dateInput:this.getSafe((function(){return e.props.check.date}),null)})}},{key:"handleEdit",value:function(){var e=this,t=Object(o.a)({},this.props.check,{transactionName:this.state.transactionNameInput,memo:this.state.memoInput,payment:{value:this.state.paymentInput},deposit:{value:this.state.depositInput},date:this.getSafe((function(){return e.state.dateInput.getTime()/1e3}),null)});this.props.handleEdit(t)}},{key:"giveFocus",value:function(){this.state.transactionNameInput?this.transactionInputRef.current.focus():this.state.memoInput?this.memoInputRef.current.focus():this.state.paymentInput?this.paymentInputRef.current.focus():this.state.depositInput?this.depositInputRef.current.focus():this.transactionInputRef.current.focus()}},{key:"getSafe",value:function(e,t){try{return e()}catch(a){return t}}},{key:"transactionInputChanged",value:function(e){this.setState({transactionNameInput:e.target.value},this.handleEdit.bind(this))}},{key:"memoInputChanged",value:function(e){this.setState({memoInput:e.target.value},this.handleEdit.bind(this))}},{key:"paymentInputChanged",value:function(e){this.setState({paymentInput:e.target.value},this.handleEdit.bind(this))}},{key:"depositInputChanged",value:function(e){this.setState({depositInput:e.target.value},this.handleEdit.bind(this))}},{key:"dateInputChanged",value:function(e){this.setState({dateInput:e},this.handleEdit.bind(this))}},{key:"handleDelete",value:function(e){var t=e.target.value;this.props.handleDelete(t)}},{key:"paymentInputFocused",value:function(){this.setState({paymentFocus:!0})}},{key:"paymentInputBlurred",value:function(e){this.setState({paymentFocus:!1,paymentInput:parseFloat(e.target.value).toFixed(2)})}},{key:"depositInputFocused",value:function(){this.setState({depositFocus:!0})}},{key:"depositInputBlurred",value:function(e){this.setState({depositFocus:!1,depositInput:parseFloat(e.target.value).toFixed(2)})}},{key:"render",value:function(){var e=this,t=this.getSafe((function(){return e.state.paymentInput}),""),a=this.getSafe((function(){return e.state.depositInput}),""),n=parseFloat(t),r=parseFloat(a),i=function(e){return isNaN(e)?"":Math.abs(e).toFixed(2)};return s.a.createElement("div",{className:"check-row"},s.a.createElement(m.a,{selected:this.state.dateInput,onChange:this.dateInputChanged.bind(this),className:this.props.classes.datePicker,ref:this.datePickerRef}),s.a.createElement("input",{value:this.getSafe((function(){return e.state.transactionNameInput}),""),placeholder:"Name",ref:this.transactionInputRef,onChange:this.transactionInputChanged.bind(this)}),s.a.createElement("input",{value:this.getSafe((function(){return e.state.memoInput}),""),placeholder:"memo",ref:this.memoInputRef,onChange:this.memoInputChanged.bind(this)}),s.a.createElement("input",{type:"number",value:this.state.paymentFocus?t:i(n),placeholder:"+0.00",ref:this.paymentInputRef,onChange:this.paymentInputChanged.bind(this),onFocus:this.paymentInputFocused.bind(this),onBlur:this.paymentInputBlurred.bind(this)}),s.a.createElement("input",{type:"number",value:this.state.depositFocus?a:i(r),placeholder:"-0.00",ref:this.depositInputRef,onChange:this.depositInputChanged.bind(this),onFocus:this.depositInputFocused.bind(this),onBlur:this.depositInputBlurred.bind(this)}),this.props.immutable?null:s.a.createElement("button",{className:this.props.classes.deleteButton,value:this.getSafe((function(){return e.props.check.id})),onClick:this.handleDelete.bind(this)}))}}]),a}(s.a.Component),b=a(423),g=a(179),v=a(46),y=a(427),C=(a(252),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"getSafe",value:function(e,t){try{return e()}catch(a){return t}}},{key:"isValidDate",value:function(e){return e instanceof Date&&!isNaN(e)}},{key:"toDate",value:function(e){if(null!=e){var t=new Date(1e3*e);return this.isValidDate(t)?t:null}return null}},{key:"render",value:function(){var e=this,t=parseFloat(this.getSafe((function(){return e.props.summary.total.value}),"---")),a=parseFloat(this.getSafe((function(){return e.props.summary.paymentTotal.value}),"---")),n=parseFloat(this.getSafe((function(){return e.props.summary.depositTotal.value}),"---")),r=parseFloat(this.getSafe((function(){return e.props.summary.futureTotal.value}),"---")),i=parseFloat(this.getSafe((function(){return e.props.summary.futurePaymentTotal.value}),"---")),o=parseFloat(this.getSafe((function(){return e.props.summary.futureDepositTotal.value}),"---")),c={color:"rgba(0,255,0,0.6)"},l={color:"rgba(255,0,0,0.6)"},u={},p=function(e){return isNaN(e)||0==e?u:e>0?c:l},d=function(e){return isNaN(e)||0==e?"":e>0?"\u25b2":"\u25bc-"},h=function(e){return isNaN(e)?"---":Math.abs(e).toFixed(2)};return s.a.createElement("div",{className:"summary"},s.a.createElement(b.a,{container:!0,spacing:0,justify:"flex-end"},s.a.createElement(b.a,{item:!0,xs:3},s.a.createElement(g.a,{className:this.props.classes.filterPaper},s.a.createElement(v.a,{style:{color:"rgba(255,255,255, 0.7)",marginRight:5,marginLeft:10}},"Filter Future Date:"),s.a.createElement(m.a,{className:this.props.classes.summaryDatePicker,selected:this.toDate(this.getSafe((function(){return e.props.summary.baseDate}),null)),onChange:this.props.handleBaseDate}))),s.a.createElement(b.a,{item:!0,xs:2},s.a.createElement(g.a,{className:this.props.classes.filterPaper},s.a.createElement(y.a,{className:this.props.classes.filterButton,onClick:this.props.handleBaseDateClear},"Clear")))),s.a.createElement(g.a,{className:this.props.classes.summaryPaper},s.a.createElement(v.a,{variant:"h3",style:p(t)},d(t)+"$"+h(t)),s.a.createElement(v.a,{variant:"h4",style:l},"Payments: -$"+h(a)),s.a.createElement(v.a,{variant:"h4",style:c},"Deposits: +$"+h(n))),s.a.createElement(g.a,{className:this.props.classes.futureSummaryPaper},s.a.createElement(v.a,{style:p(r)},"Future Total Change: "+d(r)+"$"+h(r)),s.a.createElement(v.a,{style:isNaN(i)?u:l},"Future Payment Change: -$"+h(i)),s.a.createElement(v.a,{style:isNaN(o)?u:c},"Future Deposit Change: +$"+h(o))))}}]),a}(s.a.Component)),k=(a(254),a(291),a(292),a(439)),E=a(429),N=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={filter:{transactionNameFilter:"",memoFilter:"",paymentFilter:"",depositFilter:""},sort:[0,0,0,0]},n.handleSubmit.bind(Object(u.a)(n)),n.handleClear.bind(Object(u.a)(n)),n.transactionNameFilterChanged.bind(Object(u.a)(n)),n.memoFilterChanged.bind(Object(u.a)(n)),n.paymentFilterChanged.bind(Object(u.a)(n)),n.depositFilterChanged.bind(Object(u.a)(n)),n.transactionNameSortChanged.bind(Object(u.a)(n)),n.memoSortChanged.bind(Object(u.a)(n)),n.paymentSortChanged.bind(Object(u.a)(n)),n.depositSortChanged.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:"handleSubmit",value:function(){var e=this;this.props.handleSort(this.state.sort,(function(){e.props.handleFilters(e.state.filter)}))}},{key:"handleClear",value:function(){this.setState({filter:{transactionNameFilter:"",memoFilter:"",paymentFilter:"",depositFilter:""},sort:[0,0,0,0]},this.handleSubmit.bind(this))}},{key:"transactionNameFilterChanged",value:function(e){var t=e.target.value;this.setState((function(e){return{filter:Object(o.a)({},e.filter,{transactionNameFilter:t})}}))}},{key:"memoFilterChanged",value:function(e){var t=e.target.value;this.setState((function(e){return{filter:Object(o.a)({},e.filter,{memoFilter:t})}}))}},{key:"paymentFilterChanged",value:function(e){var t=e.target.value;this.setState((function(e){return{filter:Object(o.a)({},e.filter,{paymentFilter:t})}}))}},{key:"depositFilterChanged",value:function(e){var t=e.target.value;this.setState((function(e){return{filter:Object(o.a)({},e.filter,{depositFilter:t})}}))}},{key:"transactionNameSortChanged",value:function(e){this.setState({sort:[e.target.value,0,0]})}},{key:"memoSortChanged",value:function(e){this.setState({sort:[0,e.target.value,0,0]})}},{key:"paymentSortChanged",value:function(e){this.setState({sort:[0,0,e.target.value,0]})}},{key:"depositSortChanged",value:function(e){this.setState({sort:[0,0,0,e.target.value]})}},{key:"render",value:function(){return s.a.createElement("div",{className:this.props.classes.root},s.a.createElement(b.a,{container:!0,spacing:0,justify:"flex-end"},s.a.createElement(b.a,{item:!0,xs:3},s.a.createElement(g.a,{className:this.props.classes.paper},s.a.createElement("input",{value:this.state.filter.transactionNameFilter,className:this.props.classes.input,placeholder:"Search Transaction",onChange:this.transactionNameFilterChanged.bind(this)}))),s.a.createElement(b.a,{item:!0,xs:3},s.a.createElement(g.a,{className:this.props.classes.paper},s.a.createElement("input",{value:this.state.filter.memoFilter,className:this.props.classes.input,placeholder:"Search Memo",onChange:this.memoFilterChanged.bind(this)}))),s.a.createElement(b.a,{item:!0,xs:3},s.a.createElement(g.a,{className:this.props.classes.paper},s.a.createElement("input",{value:this.state.filter.paymentFilter,type:"number",className:this.props.classes.input,placeholder:"Search Payment",onChange:this.paymentFilterChanged.bind(this)}))),s.a.createElement(b.a,{item:!0,xs:3},s.a.createElement(g.a,{className:this.props.classes.paper},s.a.createElement("input",{value:this.state.filter.depositFilter,type:"number",className:this.props.classes.input,placeholder:"Search Deposit",onChange:this.depositFilterChanged.bind(this)}))),s.a.createElement(b.a,{item:!0,xs:3},s.a.createElement(g.a,{className:this.props.classes.paper},s.a.createElement(k.a,{disableUnderline:!0,className:this.props.classes.input,MenuProps:{classes:{paper:this.props.classes.menu}},onChange:this.transactionNameSortChanged.bind(this),value:this.state.sort[0]},s.a.createElement(E.a,{value:"",className:this.props.classes.button},s.a.createElement("em",null,"None")),s.a.createElement(E.a,{value:1,className:this.props.classes.button},"Ascending"),s.a.createElement(E.a,{value:-1,className:this.props.classes.button},"Descending")))),s.a.createElement(b.a,{item:!0,xs:3},s.a.createElement(g.a,{className:this.props.classes.paper},s.a.createElement(k.a,{disableUnderline:!0,className:this.props.classes.input,MenuProps:{classes:{paper:this.props.classes.menu}},onChange:this.memoSortChanged.bind(this),value:this.state.sort[1]},s.a.createElement(E.a,{value:"",className:this.props.classes.button},s.a.createElement("em",null,"None")),s.a.createElement(E.a,{value:1,className:this.props.classes.button},"Ascending"),s.a.createElement(E.a,{value:-1,className:this.props.classes.button},"Descending")))),s.a.createElement(b.a,{item:!0,xs:3},s.a.createElement(g.a,{className:this.props.classes.paper},s.a.createElement(k.a,{disableUnderline:!0,className:this.props.classes.input,MenuProps:{classes:{paper:this.props.classes.menu}},onChange:this.paymentSortChanged.bind(this),value:this.state.sort[2]},s.a.createElement(E.a,{value:"",className:this.props.classes.button},s.a.createElement("em",null,"None")),s.a.createElement(E.a,{value:1,className:this.props.classes.button},"Ascending"),s.a.createElement(E.a,{value:-1,className:this.props.classes.button},"Descending")))),s.a.createElement(b.a,{item:!0,xs:3},s.a.createElement(g.a,{className:this.props.classes.paper},s.a.createElement(k.a,{disableUnderline:!0,className:this.props.classes.input,MenuProps:{classes:{paper:this.props.classes.menu}},onChange:this.depositSortChanged.bind(this),value:this.state.sort[3]},s.a.createElement(E.a,{value:"",className:this.props.classes.button},s.a.createElement("em",null,"None")),s.a.createElement(E.a,{value:1,className:this.props.classes.button},"Ascending"),s.a.createElement(E.a,{value:-1,className:this.props.classes.button},"Descending")))),s.a.createElement(b.a,{item:!0,xs:1},s.a.createElement(g.a,{className:this.props.classes.paper},s.a.createElement(y.a,{className:this.props.classes.button,onClick:this.handleClear.bind(this)},"Clear"))),s.a.createElement(b.a,{item:!0,xs:2},s.a.createElement(g.a,{className:this.props.classes.paper},s.a.createElement(y.a,{className:this.props.classes.button,onClick:this.handleSubmit.bind(this)},"Submit")))))}}]),a}(s.a.Component),S=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={checks:[],filter:{transactionNameFilter:"",memoFilter:"",paymentFilter:"",depositFilter:"",baseDate:null},sort:[0,0,0,0]},n.scrollEndRef=s.a.createRef(),n.newCheckRef=s.a.createRef(),n.handleEdit.bind(Object(u.a)(n)),n.scrollToBottom.bind(Object(u.a)(n)),n.refreshChecks.bind(Object(u.a)(n)),n.handleNew.bind(Object(u.a)(n)),n.intervalPost.bind(Object(u.a)(n)),n.handleFilters.bind(Object(u.a)(n)),n.handleSort.bind(Object(u.a)(n)),n.doSort.bind(Object(u.a)(n)),n.handleBaseDate.bind(Object(u.a)(n)),n.handleBaseDateClear.bind(Object(u.a)(n)),n.handleDelete.bind(Object(u.a)(n)),n.finalCheckRef=s.a.createRef(),n.updatedContent=[],n.hasBeenRefreshed=!1,n.handlingNewFlag=!1,n.newCheckTransient=null,n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.refreshChecks(this.scrollToBottom),this.hasBeenRefreshed=!0;var e=Promise.resolve(!0),t=this;setInterval((function(){e=e.then((function(){return new Promise((function(e){t.intervalPost(e)}))}))}),2e3)}},{key:"componentDidUpdate",value:function(e){var t;null==this.props.account?this.props.setDefaultAccount():(null===e||void 0===e||null===(t=e.account)||void 0===t?void 0:t.id)!=this.props.account.id&&this.refreshChecks()}},{key:"scrollToBottom",value:function(){this.scrollEndRef.current.scrollIntoView()}},{key:"intervalPost",value:function(e){if(this.updatedContent.length>0){this.hasBeenRefreshed=!1;var t=new XMLHttpRequest;t.addEventListener("loadend",e),t.open("POST","/updateChecks/".concat(this.props.account.id),!0),t.setRequestHeader("Content-Type","application/json"),t.send(JSON.stringify(this.updatedContent)),this.updatedContent=[]}else this.hasBeenRefreshed||(this.refreshChecks(),this.hasBeenRefreshed=!0),e(!0)}},{key:"handleFilters",value:function(e){this.setState({filter:e},this.refreshChecks.bind(this))}},{key:"handleSort",value:function(e,t){this.setState({sort:e},t)}},{key:"doSort",value:function(e){var t=this.state.sort;0!=t[0]?e.sort((function(e,a){return e.transactionName.toUpperCase()>a.transactionName.toUpperCase()?t[0]:-t[0]})):0!=t[1]?e.sort((function(e,a){return e.memo.toUpperCase()>a.memo.toUpperCase()?t[1]:-t[1]})):0!=t[2]?e.sort((function(e,a){return parseFloat(e.payment.value)>parseFloat(a.payment.value)?t[2]:-t[2]})):0!=t[3]?e.sort((function(e,a){return parseFloat(e.deposit.value)>parseFloat(a.deposit.value)?t[3]:-t[3]})):e.sort((function(e,t){return e.date==t.date?0:null==e.date?1:null==t.date||e.date<t.date?-1:1}))}},{key:"isValidDate",value:function(e){return e instanceof Date&&!isNaN(e)}},{key:"getDate",value:function(e){var t=null;return null!=e&&(t=new Date(e.replace(/-/g,"/"))),this.isValidDate(t)?t:null}},{key:"refreshChecks",value:function(e){if(console.log("refresh"),console.log(this.props.account),null!=this.props.account){var t=new XMLHttpRequest;t.open("POST","/filteredChecks/".concat(this.props.account.id),!0),t.onreadystatechange=function(){if(4==t.readyState){console.log("CheckBook mounted"),console.log(JSON.parse(t.response));var a=JSON.parse(t.response);this.doSort(a.checks),this.setState(Object(o.a)({},a),e)}}.bind(this),t.setRequestHeader("Content-Type","application/json"),t.send(JSON.stringify(this.state.filter))}else console.log("block")}},{key:"handleEdit",value:function(e){var t=this;this.setState((function(t){return{checks:t.checks.map((function(t){return t.id==e.id?Object(o.a)({},t,{transactionName:e.transactionName,memo:e.memo,payment:e.payment,deposit:e.deposit,date:e.date}):t}))}}));var a=!1;this.updatedContent.forEach((function(n,s){n.id==e.id&&(t.updatedContent[s]=e,a=!0)})),a||this.updatedContent.push(e)}},{key:"handleNew",value:function(e){if(this.handlingNewFlag)this.newCheckTransient=e;else{this.handlingNewFlag=!0,this.newCheckTransient=e;var t=null,a=new XMLHttpRequest;a.open("POST","/newCheck/".concat(this.props.account.id),!0),a.onreadystatechange=function(){var e=this;if(4==a.readyState){var n=JSON.parse(a.response);this.setState((function(e){var a=e.checks.map((function(e){return e})),s=this.newCheckTransient;return s.id=n.id,t=s,a.push(s),{checks:a}}),(function(){e.newCheckRef.current.resetState(),e.handlingNewFlag=!1,e.newCheckTransient=null,e.updatedContent.push(t),e.scrollToBottom(),e.finalCheckRef.current.giveFocus()}))}}.bind(this),a.setRequestHeader("Content-Type","application/json"),a.send(JSON.stringify(e))}}},{key:"getSafe",value:function(e,t){try{return e()}catch(a){return t}}},{key:"handleBaseDate",value:function(e){this.setState((function(t){return{summary:Object(o.a)({},t.summary,{baseDate:this.getSafe((function(){return e.getTime()/1e3}),null)}),filter:Object(o.a)({},t.filter,{baseDate:this.getSafe((function(){return e.getTime()/1e3}),null)})}}),this.refreshChecks.bind(this))}},{key:"handleBaseDateClear",value:function(){this.setState((function(e){return{summary:Object(o.a)({},e.summary,{baseDate:null}),filter:Object(o.a)({},e.filter,{baseDate:null})}}),this.refreshChecks.bind(this))}},{key:"handleDelete",value:function(e){if(e){var t=new XMLHttpRequest;t.open("DELETE","/deleteCheck/".concat(e),!0),t.onreadystatechange=function(){4==t.readyState&&this.refreshChecks.bind(this)}.bind(this),t.setRequestHeader("DELETE","application/json"),t.send(e),this.setState((function(t){var a=t.checks.map((function(e){return e}));return t.checks.forEach((function(t,n){t.id==e&&a.splice(n,1)})),{checks:a}}))}}},{key:"render",value:function(){var e,t=this;return s.a.createElement("div",{className:this.props.classes.main},s.a.createElement("div",{className:this.props.classes.filterView},s.a.createElement(N,{classes:{root:this.props.classes.filterRoot,paper:this.props.classes.filterPaper,input:this.props.classes.filterInput,button:this.props.classes.filterButton,select:this.props.classes.filterSelect,menu:this.props.classes.filterMenu},handleFilters:this.handleFilters.bind(this),handleSort:this.handleSort.bind(this)})),s.a.createElement("div",{className:this.props.classes.tableView},s.a.createElement("div",{className:"check-table"},this.state.checks.map((function(e,a){return s.a.createElement(f,{key:e.id,check:e,handleEdit:t.handleEdit.bind(t),classes:t.props.classes,handleDelete:t.handleDelete.bind(t),ref:a==t.state.checks.length-1?t.finalCheckRef:void 0})})),s.a.createElement(f,{classes:this.props.classes,handleEdit:this.handleNew.bind(this),immutable:!0,ref:this.newCheckRef}),s.a.createElement("div",{ref:this.scrollEndRef}))),s.a.createElement("div",{className:this.props.classes.summaryView},s.a.createElement(C,{classes:this.props.classes,summary:null===(e=this.state)||void 0===e?void 0:e.summary,handleBaseDate:this.handleBaseDate.bind(this),handleBaseDateClear:this.handleBaseDateClear.bind(this)})," "))}}]),a}(s.a.Component),O=a(433),I=a(430),j=a(431),w=a(432),D=a(442),F=a(174),x=(Math.round(7963.2),Math.round(25.7*144),Math.round(2246.4),Math.round(8.4*144),Math.round(792),{data:{datasets:[{backgroundColor:"rgba(97, 218, 251, 0.3)",borderColor:"#61dafb",borderWidth:2,label:"Subscriptions",fill:!1,data:[1545,1350,1270,1830,1955,1865,2034,2544,1956,2211,1540,1670],yAxisID:"y1"},{backgroundColor:"rgba(97, 218, 251, 0.3)",borderColor:"#8897aa",borderWidth:1,data:[23686,30820,59622,146465,78160,79520,36148,48781,158303,155174,104830,86895],label:"Visits",yAxisID:"y2"},{backgroundColor:"maroon",borderColor:"red",borderDash:[5,5],borderWidth:1,data:[1e3,2e3,3e3,4e3,5e3,6e3,7e3,8e3,9e3,1e4,11e3,12e3],fill:!1,label:"Trend",yAxisID:"y3"}],labels:["2019-03","2019-04","2019-05","2019-06","2019-07","2019-08","2019-09","2019-10","2019-11","2019-12","2020-01","2020-02"]},options:{scales:{xAxes:[{gridLines:{display:!1},ticks:{fontColor:"#aaa",autoSkipPadding:50}}],yAxes:[{id:"y1",gridLines:{display:!1},ticks:{fontColor:"#aaa",maxTicksLimit:5}},{position:"right",id:"y2",gridLines:{display:!1},ticks:{fontColor:"#aaa",maxTicksLimit:5}},{display:!1,position:"right",id:"y3",gridLines:{display:!1},ticks:{fontColor:"#aaa",maxTicksLimit:5}}]},tooltips:{mode:"index",intersect:!1},hover:{mode:"index",intersect:!1},responsive:!0,maintainAspectRatio:!1}}),B=Object(O.a)((function(e){return{cardHeader:{borderBottom:"1px solid",borderBottomColor:e.palette.divider},cardBody:{overflow:"hidden"},headerTitleBox:{},headerActionsBox:{textAlign:"right"},headerIcon:{color:e.palette.primary.main,verticalAlign:"sub",marginRight:".3em"},chartBox:{borderRightColor:e.palette.divider},chartContainer:{width:"100%",position:"relative",paddingBottom:"25%",minHeight:240},chart:{position:"absolute",width:"100%",height:"100%",top:0,left:0},cardContent:{"&:last-child":{paddingBottom:"default"}},ratingBox:{display:"flex",flexDirection:"column",justifyContent:"space-between"},ratingItemValueBox:{textAlign:"right",fontSize:"0.7em"},ratingItemValue:{display:"inline-block"},ratingItemRatio:{marginLeft:4,display:"inline-block",width:"3em"}}})),R=function(e){var t=B();return s.a.createElement(I.a,null,s.a.createElement(j.a,{className:t.cardHeader,avatar:s.a.createElement(D.a,{className:t.headerIcon}),title:"Subscriptions"}),s.a.createElement(w.a,{className:t.cardContent},s.a.createElement(b.a,{container:!0,spacing:4,justify:"center"},s.a.createElement(b.a,{item:!0,xs:10,className:t.chartBox},s.a.createElement("div",{className:t.chartContainer},s.a.createElement("div",{className:t.chart},s.a.createElement(F.a,{data:x.data,options:x.options})))))))},A=(s.a.Component,a(434)),T=a(435),P=a(441),L=a(428),M=a(392),H=a(436),V=a(437),q=a(438),J=a(125),U=a.n(J),W=a(176),X=a.n(W),$=a(177),z=a.n($),G=a(178),Y=a.n(G),K=a(128),Q=a.n(K),Z=a(129),_=a.n(Z);a(167);var ee=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={accounts:[],drawerOpen:!0,currAccount:0,popperOpen:!1,name:"",deletePopperOpen:!1},n.refreshAccounts.bind(Object(u.a)(n)),n.handleNewAccount.bind(Object(u.a)(n)),n.toggleDrawer.bind(Object(u.a)(n)),n.setCurrAccount.bind(Object(u.a)(n)),n.handleCreateAccount.bind(Object(u.a)(n)),n.handleDeleteAccount.bind(Object(u.a)(n)),n.deleteAccount.bind(Object(u.a)(n)),n.setDefaultAccount.bind(Object(u.a)(n)),n.newButtonRef=s.a.createRef(),n.deleteButtonRef=s.a.createRef(),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.refreshAccounts()}},{key:"setDefaultAccount",value:function(){this.setState({currAccount:0})}},{key:"refreshAccounts",value:function(){var e=new XMLHttpRequest;e.open("GET","/account",!0),e.onreadystatechange=function(){if(4==e.readyState){console.log(e.response);var t=JSON.parse(e.response);this.setState({accounts:t})}}.bind(this),e.setRequestHeader("Content-Type","application/json"),e.send()}},{key:"handleCreateAccount",value:function(){var e={id:null,accountName:this.state.name};console.log(e);var t=new XMLHttpRequest;t.open("POST","/newAccount",!0),t.onreadystatechange=function(){4==t.readyState&&(this.setState({popperOpen:!1,name:""}),this.refreshAccounts())}.bind(this),t.setRequestHeader("Content-Type","application/json"),t.send(JSON.stringify(e))}},{key:"deleteAccount",value:function(e){if(window.confirm("Delete '".concat(e.accountName).concat("'? This operation cannot be undone"))){this.setState({deletePopperOpen:!1});var t=new XMLHttpRequest;t.open("DELETE","/deleteAccount/".concat(e.id),!0),t.onreadystatechange=function(){4==t.readyState&&(this.setState({popperOpen:!1,name:""}),this.refreshAccounts())}.bind(this),t.setRequestHeader("Content-Type","application/json"),t.send(e.id)}}},{key:"handleNewAccount",value:function(){this.setState((function(e){return{popperOpen:!e.popperOpen,name:e.popperOpen?"":e.name}}))}},{key:"handleDeleteAccount",value:function(){this.setState((function(e){return{deletePopperOpen:!e.deletePopperOpen}}))}},{key:"toggleDrawer",value:function(){this.setState((function(e){return{drawerOpen:!e.drawerOpen}}))}},{key:"setCurrAccount",value:function(e){this.setState({currAccount:e})}},{key:"handleCreateInputChange",value:function(e){this.setState({name:e.target.value})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.accounts,n=this.state.currAccount,r=this.state.drawerOpen,i=this.state.popperOpen,o=this.state.name,c=this.state.deletePopperOpen;return s.a.createElement("div",{className:t.root},s.a.createElement(A.a,{position:"fixed",className:t.appBar},s.a.createElement(T.a,{disableGutters:!0,className:t.toolBar},s.a.createElement(y.a,{className:t.toolBarButton,onClick:this.toggleDrawer.bind(this)},"Menu"))),s.a.createElement(P.a,{className:r?t.drawer:t.drawerClosed,variant:"persistent",classes:{paper:t.drawerPaper},open:r,transitionDuration:0},s.a.createElement(L.a,{className:t.subToolBar},a.map((function(a,n){return s.a.createElement(M.a,{button:!0,value:n,className:t.listButton,onClick:function(){return e.setCurrAccount(n)}},s.a.createElement(H.a,null,s.a.createElement(U.a,{className:t.accountIcon})),s.a.createElement(V.a,{primary:a.accountName}))})),s.a.createElement(M.a,{button:!0,className:t.listButton,ref:this.newButtonRef,onClick:this.handleNewAccount.bind(this)},s.a.createElement(H.a,null,s.a.createElement(X.a,{className:t.accountIcon})),s.a.createElement(V.a,{primary:"New Account"}),i?s.a.createElement(Q.a,null):s.a.createElement(_.a,null)),s.a.createElement(q.a,{in:i,timeout:"auto",unmountOnExit:!0},s.a.createElement(L.a,{component:"div",disablePadding:!0},s.a.createElement(M.a,{className:t.nestedListItem},s.a.createElement("input",{value:o,className:t.accountInput,placeholder:"Name",onChange:this.handleCreateInputChange.bind(this)}),s.a.createElement(y.a,{className:t.filterButton,onClick:this.handleCreateAccount.bind(this)},"Create")))),s.a.createElement(M.a,{button:!0,className:t.listButton,ref:this.deleteButtonRef,onClick:this.handleDeleteAccount.bind(this)},s.a.createElement(H.a,null,s.a.createElement(z.a,{className:t.accountIcon})),s.a.createElement(V.a,{primary:"Delete Account"}),c?s.a.createElement(Q.a,null):s.a.createElement(_.a,null)),s.a.createElement(q.a,{in:c,timeout:"auto",unmountOnExit:!0},s.a.createElement(L.a,{component:"div",disablePadding:!0},a.map((function(a){return s.a.createElement(M.a,{button:!0,className:t.nestedListButton,onClick:function(){return e.deleteAccount(a)}},s.a.createElement(H.a,null,s.a.createElement(Y.a,{className:t.accountIcon})),s.a.createElement(V.a,{primary:a.accountName}))})))))),s.a.createElement("div",{className:t.content},s.a.createElement(S,{classes:t,setDefaultAccount:this.setDefaultAccount.bind(this),account:null!=a[n]?a[n]:null})))}}]),a}(s.a.Component);a(167);var te=Object(O.a)({root:{height:"100vh",width:"100vw",display:"flex",flexDirection:"row"},drawer:{width:240,flexShrink:0},drawerClosed:{width:0,flexShrink:0},drawerPaper:{width:240,backgroundColor:"#20232a"},main:{flex:1,display:"flex",flexDirection:"column"},filterView:{flex:10,display:"flex"},tableView:{flex:70,display:"flex",flexDirection:"row",overflowY:"auto",backgroundColor:"#282c34"},summaryView:{flex:20,display:"flex",flexDirection:"column"},split:{flex:1},appBar:{zIndex:1400},accountPopper:{zIndex:1401},accountPaper:{backgroundColor:"rgb(50,54,62)"},accountInput:{paddingLeft:50},toolBar:{minHeight:25,backgroundColor:"#20232a"},toolBarButton:{textTransform:"none",borderRadius:0,maxHeight:25,minHeight:25,maxWidth:75,minWidth:75,fontSize:15,color:"rgba(255,255,255, 0.7)",padding:0,"&:hover":{backgroundColor:"rgba(97, 218, 251, 0.8)",padding:0}},subToolBar:{paddingTop:25},listButton:{paddingTop:20,paddingBottom:20,color:"rgba(255,255,255, 0.7)","&:hover":{backgroundColor:"rgba(97, 218, 251, 0.8)"}},nestedListButton:{color:"rgba(255,255,255, 0.7)","&:hover":{backgroundColor:"rgba(255, 0, 0, 0.8)"},paddingLeft:20},nestedListItem:{color:"rgba(255,255,255, 0.7)",paddingLeft:20},accountIcon:{fill:"rgba(255,255,255, 0.7)"},content:{display:"flex",flex:1,paddingTop:25},filterRoot:{flexGrow:1,backgroundColor:"#20232a"},filterPaper:{marginLeft:10,marginRight:10,marginBottom:2,marginTop:2,textAlign:"center",backgroundColor:"#20232a",display:"flex"},filterInput:{border:"none !important",borderColor:"transparent !important",backgroundColor:"transparent !important",padding:"0 !important",margin:"0 !important",flex:1,height:27,color:"white",transition:"box-shadow 0.3s","&:focus":{outline:"none",boxShadow:"inset 0px -2px rgb(97, 218, 251)"}},filterButton:{flex:1,color:"rgba(255,255,255, 0.7)","&:hover":{backgroundColor:"rgba(97, 218, 251, 0.8)"}},filterSelect:{},filterMenu:{backgroundColor:"#20232a",color:"rgba(255,255,255, 0.7)"},datePicker:{},summaryDatePicker:{backgroundColor:"transparent",color:"white",border:"none",display:"flex",flex:1,":&:focus":{outline:"none"}},summaryPaper:{marginLeft:10,marginRight:10,marginBottom:30,marginTop:2,paddingRight:30,paddingLeft:30,backgroundColor:"#20232a",display:"inline-block",color:"rgba(255,255,255, 0.7)"},futureSummaryPaper:{marginLeft:30,marginRight:10,marginBottom:2,marginTop:2,paddingRight:30,paddingLeft:30,backgroundColor:"#20232a",display:"inline-block",color:"rgba(255,255,255, 0.7)"},deleteButton:{backgroundColor:"#282c34",border:"none",transition:"0.3s",":&:hover":{backgroundColor:"red",padding:"8px",transition:"0.3s"},":&:focus":{outline:"none"}}}),ae=function(){var e=te();return s.a.createElement(ee,{classes:e})};var ne=function(){return s.a.createElement(ae,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[185,1,2]]]);
//# sourceMappingURL=main.ca8998cc.chunk.js.map